<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ì´ˆ6 ë¼ˆÂ·ê·¼ìœ¡ ì§€ì‹ë´‡</title>

<style>
:root { --bg:#0b1020; --card:#111a33; --line:#233056; --txt:#e9eefc; --sub:#b9c4ea; }
body{margin:0;font-family:system-ui;background:var(--bg);color:var(--txt);}
.wrap{max-width:900px;margin:auto;padding:16px;}
.card{background:var(--card);border:1px solid var(--line);border-radius:14px;overflow:hidden;}

.top{padding:10px;border-bottom:1px solid var(--line);display:flex;gap:8px;flex-wrap:wrap}
.pill{border:1px solid var(--line);padding:6px 10px;border-radius:999px;font-size:12px;color:var(--sub)}

.msgs{height:60vh;overflow:auto;padding:12px;display:flex;flex-direction:column;gap:10px}
.msg{max-width:80%;padding:10px;border-radius:12px;border:1px solid var(--line);white-space:pre-wrap}
.bot{background:#1b2650}
.me{background:#0f183a;align-self:flex-end}

.bar{display:flex;gap:8px;padding:10px;border-top:1px solid var(--line)}
input{flex:1;padding:10px;border-radius:10px;border:1px solid var(--line);background:#0f183a;color:white}
button{padding:10px;border-radius:10px;border:1px solid var(--line);background:#2a3a7a;color:white;cursor:pointer}

.searchBtn{margin-top:8px;background:#425cff}
</style>
</head>
<body>
<div class="wrap">
<div class="card">

<div class="top">
<div id="status" class="pill">ì´ë¦„: - | ì¹­í˜¸: ì…ë¬¸ì | ì§ˆë¬¸ 0ê°œ</div>
<input id="name" placeholder="ì´ë¦„ ì…ë ¥" style="width:120px">
<button onclick="setName()">ì„¤ì •</button>
<button onclick="resetUser()">ì´ˆê¸°í™”</button>
</div>

<div id="msgs" class="msgs"></div>

<div class="bar">
<input id="q" placeholder="ì§ˆë¬¸ ì…ë ¥">
<button onclick="ask()">ì§ˆë¬¸</button>
</div>

</div>
</div>

<script>
/* ---------- ì¹­í˜¸ ---------- */
const titles=[
{n:1,t:"íƒí—˜ê°€"},
{n:3,t:"ë¼ˆ ê²¬ìŠµìƒ"},
{n:5,t:"ê·¼ìœ¡ ì—°êµ¬ì›"},
{n:8,t:"ê´€ì ˆ ì „ë¬¸ê°€"},
{n:12,t:"ì¸ì²´ ë°•ì‚¬"},
{n:20,t:"í•´ë¶€í•™ ë§ˆìŠ¤í„°"}
];

let users=JSON.parse(localStorage.getItem("bbotUsers")||"{}");
let current=localStorage.getItem("bbotName")||"";

function save(){localStorage.setItem("bbotUsers",JSON.stringify(users))}
function saveName(){localStorage.setItem("bbotName",current)}

function update(){
let u=users[current]||{asked:[]};
let title="ì…ë¬¸ì";
for(let i of titles){if(u.asked.length>=i.n)title=i.t}
document.getElementById("status").textContent=`ì´ë¦„: ${current||"-"} | ì¹­í˜¸: ${title} | ì§ˆë¬¸ ${u.asked.length}ê°œ`;
}
update();

/* ---------- ì±„íŒ… ---------- */
const msgs=document.getElementById("msgs");
function add(t,w="bot"){let d=document.createElement("div");d.className="msg "+w;d.textContent=t;msgs.appendChild(d);msgs.scrollTop=999999}

/* ---------- êµ¬ê¸€ ë²„íŠ¼ ---------- */
function searchBtn(q){
let box=document.createElement("div");box.className="msg bot";
let t=document.createElement("div");
t.textContent="ì´ê±´ ì•„ì§ ëª¨ë¥´ëŠ” ë‚´ìš©ì´ì•¼ ğŸ” êµ¬ê¸€ì—ì„œ ì°¾ì•„ë³´ê³  ë‹¤ì‹œ ëŒì•„ì˜¤ì„¸ìš”!";
let b=document.createElement("button");
b.className="searchBtn";
b.textContent="êµ¬ê¸€ì—ì„œ ì°¾ì•„ë³´ê¸°";
b.onclick=()=>window.open("https://www.google.com/search?q="+encodeURIComponent(q),"_blank");
box.appendChild(t);box.appendChild(b);
msgs.appendChild(box);
}

/* ---------- ì§€ì‹ ---------- */
const KB={
"ê°€ì¥ í° ë¼ˆ":"í—ˆë²…ì§€ ë¼ˆ ëŒ€í‡´ê³¨ì´ì•¼. ëª¸ë¬´ê²Œë¥¼ ë²„í‹°ê¸° ë•Œë¬¸ì— ê°€ì¥ ê¸¸ê³  íŠ¼íŠ¼í•´.",
"ë¼ˆ ëª‡ ê°œ":"ì–´ë¥¸ì€ 206ê°œì•¼. ì•„ê¸°ëŠ” ë” ë§ì•˜ë‹¤ê°€ ìë¼ë©° ë¶™ì–´ ì¤„ì–´ë“¤ì–´.",
"ê°ˆë¹„ë¼ˆ":"12ìŒ 24ê°œì•¼. ì‹¬ì¥ê³¼ íë¥¼ ë³´í˜¸í•´.",
"ì†ê°€ë½ ë¼ˆ":"í•œ ì† 14ê°œì•¼. ì—„ì§€ëŠ” 2ê°œ ë‚˜ë¨¸ì§€ëŠ” 3ê°œì”©ì´ì•¼.",
"ê·¼ìœ¡ ì›€ì§ì—¬":"ê·¼ìœ¡ì€ ìˆ˜ì¶•í•˜ë©´ ì§§ì•„ì§€ê³  ì´ì™„í•˜ë©´ ê¸¸ì–´ì ¸ ë¼ˆë¥¼ ë‹¹ê²¨ ì›€ì§ì—¬.",
"íŒ” êµ½í":"ì´ë‘ê·¼ ìˆ˜ì¶• ì‚¼ë‘ê·¼ ì´ì™„ì´ì•¼.",
"ê·¼ìœ¡ ë–¨ë ¤":"ë¹ ë¥´ê²Œ ìˆ˜ì¶•ê³¼ ì´ì™„ì´ ë°˜ë³µë˜ë©´ ë–¨ë ¤ ë³´ì—¬."
};

/* ---------- ì´ë¦„ ---------- */
function setName(){
current=document.getElementById("name").value.trim();
if(!current)return add("ì´ë¦„ì„ ì…ë ¥í•´ì¤˜!");
if(!users[current])users[current]={asked:[]};
save();saveName();update();
add(current+" ì‹œì‘!");
}

function resetUser(){
if(!current)return;
users[current]={asked:[]};
save();update();
add("ê¸°ë¡ ì´ˆê¸°í™”!");
}

/* ---------- ì§ˆë¬¸ ---------- */
function ask(){
let q=document.getElementById("q").value.trim();
if(!q)return;
add(q,"me");

if(!current){add("ë¨¼ì € ì´ë¦„ ì…ë ¥!");return}

let u=users[current];
if(!u.asked.includes(q)){u.asked.push(q);save();update()}

let found=false;
for(let k in KB){
if(q.includes(k)){add(KB[k]);found=true;break}
}
if(!found)searchBtn(q);

document.getElementById("q").value="";
}

add("ì•ˆë…•! ì´ë¦„ ì…ë ¥ í›„ ì§ˆë¬¸í•´ì¤˜ ğŸ™‚");
</script>
</body>
</html>